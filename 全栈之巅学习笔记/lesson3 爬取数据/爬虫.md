## 前言

跟着《全栈之巅》项目实战教程，奈何老师没放资料出来，图片不匹配做出来的站也会有点难看，所以琢磨着干脆把王者荣耀官网相关的图片都扒一扒下来。

本来天真的以为可以直接在`chorme`控制台，获取图片链接，然后创建一个a标签触发点击事件，就可以把所有图片都扒下来。但是万万没想到图片有跨域下载限制，下不下来。

只好另辟蹊径，想了想干脆用`nodejs`来做个简单的图片爬虫把。

于是翻了下node爬虫博客，搜罗了一下相关插件，就有了整体思路了。

## 爬虫思路整理

### 1.整体流程

获取页面--》提取页面中想要爬取的内容--》下载内容--》存储内容。

### 2.思考

1.获取页面内容

2.使用 `cheerio`将获得的页面字符串，使用DOM模型处理。 

3.根据DOM，获取对应的字符串，并存储起来。

4.使用fs模块进行文件的下载。

### 3.难点

1.获取页面内容，保证编码格式（使用`iconv-lite`）。

2.创建子线程存储文件，提高效率(`pipe`)。

3.保证各个回调的执行顺序。

## 编码

### 初始化项目

```cmd
// 初始化项目
npm init
// 下载相关工具
npm i -D cheerio request request-promise
```

